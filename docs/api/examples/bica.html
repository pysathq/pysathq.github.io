
<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Bica algorithm for formula simplification (pysat.examples.bica) &#8212; PySAT 1.8.dev20 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=fbc4858d"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/examples/bica';</script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Fu&amp;Malik MaxSAT algorithm (pysat.examples.fm)" href="fm.html" />
    <link rel="prev" title="SAT solvers’ API (pysat.solvers)" href="../solvers.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://pysathq.github.io">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo-dark.svg" class="logo__image only-light" alt="PySAT 1.8.dev20 documentation - Home"/>
    <img src="../../_static/logo-dark.svg" class="logo__image only-dark pst-js-only" alt="PySAT 1.8.dev20 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><!-- This will display the version of the docs -->
<a href=><strong>PySAT Documentation (version 1.8.dev20)</strong></a></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pysathq/pysat" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pysathq.github.io/docs/pysat.pdf" title="PDF" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-file fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PDF</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pysathq/pysat/issues" title="Issue tracker" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-bug fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Issue tracker</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item"><!-- This will display the version of the docs -->
<a href=><strong>PySAT Documentation (version 1.8.dev20)</strong></a></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pysathq/pysat" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pysathq.github.io/docs/pysat.pdf" title="PDF" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-file fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PDF</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pysathq/pysat/issues" title="Issue tracker" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-bug fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Issue tracker</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Bica algorithm for formula simplification (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pysat.examples.bica</span></code>)</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-examples.bica">
<span id="bica-algorithm-for-formula-simplification-pysat-examples-bica"></span><h1>Bica algorithm for formula simplification (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pysat.examples.bica</span></code>)<a class="headerlink" href="#module-examples.bica" title="Link to this heading">#</a></h1>
<section id="list-of-classes">
<h2>List of classes<a class="headerlink" href="#list-of-classes" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#examples.bica.Bica" title="examples.bica.Bica"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Bica</span></code></a></p></td>
<td><p>A simple reimplementation of the Bica algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-description">
<h2>Module description<a class="headerlink" href="#module-description" title="Link to this heading">#</a></h2>
<p>A reimplementation of the Bica algorithm for SAT-based minimisation /
simplification of Boolean formulas <a class="footnote-reference brackets" href="#id8" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. Given an arbitrary Boolean
formula, it computes its smallest size prime cover, i.e. it constructs a
smallest CNF (DNF, resp.) representation comprising the formula’s prime
implicates (implicants, reps.), which is <em>equivalent</em> to the original
formula.</p>
<p>The original Bica algorithm is inspired by the well-known Quine-McCluskey
algorithm <a class="footnote-reference brackets" href="#id9" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#id10" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#id11" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>. It is <em>entirely</em> SAT-based and can deal with
arbitrary Boolean formulas. The algorithm involves two steps: first, it
enumerates all the prime implicants (or implicates, depending on the
user’s choice) of the formula by utilising the <a class="reference internal" href="primer.html#examples.primer.Primer" title="examples.primer.Primer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Primer</span></code></a> algorithm
<a class="footnote-reference brackets" href="#id12" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>; second, it computes the formula’s smallest prime cover by means of
reducing the problem to the computation of a smallest minimal
unsatisfiable subformula (SMUS), invoking the <a class="reference internal" href="optux.html#examples.optux.OptUx" title="examples.optux.OptUx"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptUx</span></code></a> SMUS solver
<a class="footnote-reference brackets" href="#id13" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>.</p>
<p>The word “bica” is Portuguese and means a cup of extremely strong and
high-quality coffee (often seen as a synonym of espresso). This way, the
Bica algorithm continues the <em>coffee inspiration</em> of the <a class="reference external" href="https://ptolemy.berkeley.edu/projects/embedded/pubs/downloads/espresso/">Espresso logic
minimizer</a>
<a class="footnote-reference brackets" href="#id14" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>, hence signifying the construction of the formula’s <em>essence</em> or
<em>crux</em>. (In fact, this reimplementation was initially planned to have the
name <em>Crux</em>, to relate with <a class="reference external" href="https://en.wikipedia.org/wiki/Crux">one of the most prominent constellations of
the southern sky</a>, often used in
navigation to determine the Southern Celestial Pole.)</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Alexey Ignatiev, Alessandro Previti, Joao Marques-Silva.
<em>SAT-Based Formula Simplification</em>. SAT 2015. pp. 287-298</p>
</aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Willard V. Quine. <em>The Problem of Simplifying Truth Functions</em>.
American Mathematical Monthly 59(8). 1952. pp. 521-531</p>
</aside>
<aside class="footnote brackets" id="id10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>Willard V. Quine. <em>A Way to Simplify Truth Functions</em>.
American Mathematical Monthly 62(9). 1955. pp. 627-631</p>
</aside>
<aside class="footnote brackets" id="id11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p>Edward J. McCluskey. <em>Minimization of Boolean Functions</em>. Bell
System Technical Journal 35(6). 1956. pp 1417-1444</p>
</aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">5</a><span class="fn-bracket">]</span></span>
<p>Alessandro Previti, Alexey Ignatiev, António Morgado,
Joao Marques-Silva. <em>Prime Compilation of Non-Clausal Formulae.</em>
IJCAI 2015. pp. 1980-1988</p>
</aside>
<aside class="footnote brackets" id="id13" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">6</a><span class="fn-bracket">]</span></span>
<p>Alexey Ignatiev, Alessandro Previti, Mark H. Liffiton, Joao
Marques-Silva. <em>Smallest MUS Extraction with Minimal Hitting Set
Dualization</em>. CP 2015. pp. 173-182</p>
</aside>
<aside class="footnote brackets" id="id14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">7</a><span class="fn-bracket">]</span></span>
<p>Robert K. Brayton, Alberto L. Sangiovanni-Vincentelli,, Curtis T.
McMullen, Gary D. Hachtel. <em>Logic Minimization Algorithms for VLSI
Synthesis</em>. Kluwer Academic Publishers. 1984</p>
</aside>
</aside>
<p>The file provides a class <a class="reference internal" href="#examples.bica.Bica" title="examples.bica.Bica"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bica</span></code></a>, which contains the above
algorithm reimplementation. It can be applied to any formula in the
<a class="reference internal" href="../formula.html#pysat.formula.CNF" title="pysat.formula.CNF"><code class="xref py py-class docutils literal notranslate"><span class="pre">CNF</span></code></a> or <a class="reference internal" href="../formula.html#pysat.formula.Formula" title="pysat.formula.Formula"><code class="xref py py-class docutils literal notranslate"><span class="pre">Formula</span></code></a> format.</p>
<p>The implementation can be used as an executable (the list of available
command-line options can be shown using <code class="docutils literal notranslate"><span class="pre">bica.py</span> <span class="pre">-h</span></code>) in the following
way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xzcat formula.cnf.xz
p cnf 7 7
-1 2 0
1 -2 0
1 2 -3 4 0
1 2 3 -4 0
1 2 3 4 -5 6 0
1 2 3 4 5 -6 0
1 2 3 4 5 6 7 0

$ bica.py -v formula.cnf.xz
c prime -1 +2 0
c prime +1 -2 0
c prime +1 -3 +4 0
c prime +2 -3 +4 0
c prime +1 +3 -4 0
c prime +2 +3 -4 0
c prime +1 +3 -5 +6 0
c prime +1 +3 +5 -6 0
c prime +1 +3 +5 +7 0
c prime +1 +3 +6 +7 0
c prime +1 +4 +5 +7 0
c prime +1 +4 +6 +7 0
c prime +1 +4 +5 -6 0
c prime +1 +4 -5 +6 0
c prime +2 +4 -5 +6 0
c prime +2 +3 -5 +6 0
c prime +2 +3 +5 -6 0
c prime +2 +4 +5 -6 0
c prime +2 +3 +5 +7 0
c prime +2 +4 +5 +7 0
c prime +2 +3 +6 +7 0
c prime +2 +4 +6 +7 0
p cnf 7 7
-1 2 0
1 -2 0
2 -3 4 0
2 3 -4 0
2 3 -5 6 0
2 4 5 -6 0
2 4 6 7 0
o 7
c primer time: 0.0002
c optux  time: 0.0001
c total  time: 0.0004
</pre></div>
</div>
<p>Alternatively, the algorithm can be accessed and invoked through the
standard <code class="docutils literal notranslate"><span class="pre">import</span></code> interface of Python, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysat.examples.bica</span> <span class="kn">import</span> <span class="n">Bica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysat.formula</span> <span class="kn">import</span> <span class="n">Atom</span><span class="p">,</span> <span class="n">CNF</span><span class="p">,</span> <span class="n">Formula</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="n">Atom</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formula</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="o">~</span><span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">x</span> <span class="o">&amp;</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Bica</span><span class="p">(</span><span class="n">formula</span><span class="p">)</span> <span class="k">as</span> <span class="n">bica</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">minf</span> <span class="ow">in</span> <span class="n">bica</span><span class="o">.</span><span class="n">enumerate</span><span class="p">():</span>
<span class="gp">... </span>        <span class="n">minf</span> <span class="o">=</span> <span class="n">CNF</span><span class="p">(</span><span class="n">from_clauses</span><span class="o">=</span><span class="p">[</span><span class="n">bica</span><span class="o">.</span><span class="n">primes</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">minf</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">minf</span><span class="p">)</span>
<span class="go">CNF(from_string=&#39;p cnf 3 2\n-1 3 0\n-2 1 0&#39;)</span>
</pre></div>
</div>
<p>As the example above demonstrates, Bica can enumerate all irreducible
prime covers of an input formula (or as many as the user wants). In this
particular example, the formula <span class="math notranslate nohighlight">\(f\triangleq\neg{(\neg{x}
\rightarrow y)} \vee (x \wedge z)\)</span> has the only irreducible prime cover
<span class="math notranslate nohighlight">\((\neg{x} \vee z) \vee (\neg{y} \vee x)\)</span>.</p>
</section>
<section id="module-details">
<h2>Module details<a class="headerlink" href="#module-details" title="Link to this heading">#</a></h2>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="examples.bica.Bica">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">examples.bica.</span></span><span class="sig-name descname"><span class="pre">Bica</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cnf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cd19'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padapt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdcalls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pexhaust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pminz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppuresat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psearch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">punsorted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ptrim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mgh'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oadapt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">odcalls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oexhaust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ominz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onodisj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opuresat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ounsorted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">otrim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weighted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#examples.bica.Bica" title="Link to this definition">#</a></dt>
<dd><p>A simple reimplementation of the Bica algorithm. Although the original
implementation of Bica was also written in Python, both phases of the
algorithm (prime enumeration and prime cover computation) were written
in C++ and interfaced through the file IO. The current implementation
relies on pure Python alternatives for both of the phases. Namely, it
first calls <a class="reference internal" href="primer.html#examples.primer.Primer" title="examples.primer.Primer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Primer</span></code></a> to enumerate all the primes of a given
input formula followed by the computation of a smallest size cover
with <a class="reference internal" href="optux.html#examples.optux.OptUx" title="examples.optux.OptUx"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptUx</span></code></a>.</p>
<p>Importantly, thanks to the capabilities of <a class="reference internal" href="optux.html#examples.optux.OptUx" title="examples.optux.OptUx"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptUx</span></code></a>, the
current implementation allows one to enumerate multiple (or all)
smallest size prime covers. Alternatively, one can even opt for
computing <strong>a minimal</strong> prime cover (not a minimum one).</p>
<p>The second phase of the approach also allows a user to compute the
target representation either <em>unweighted</em> or <em>weighted</em>. In the former
case, the size is measured as the number of primes included in the
minimal representation. In the latter case, the lenght of each prime
is taken into account such that the overall size is counted as the sum
of lengths of the primes included. This is controlled with the use of
input parameter <code class="docutils literal notranslate"><span class="pre">weighted</span></code>.</p>
<p>Additionally, one may additionally want to specify the negation of the
input formula, which is required either in first phase of the
algorithm or in both phases, depending on whether the user wants to
compute a DNF or CNF representation. If no negated formula is
provided, Bica will create one internally.</p>
<p>As both phases of the algorithm rely on implicit hitting set
enumeration, they share the same input parameters. To allow a user to
apply various parameters for the two phases, <a class="reference internal" href="hitman.html#examples.hitman.Hitman" title="examples.hitman.Hitman"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hitman</span></code></a>’s
parameters of the <a class="reference internal" href="primer.html#examples.primer.Primer" title="examples.primer.Primer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Primer</span></code></a> phase are prefixed with a <code class="docutils literal notranslate"><span class="pre">p</span></code>
while the same parameters used by <a class="reference internal" href="optux.html#examples.optux.OptUx" title="examples.optux.OptUx"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptUx</span></code></a> are prefixed with an
<code class="docutils literal notranslate"><span class="pre">o</span></code>.</p>
<p>The complete list of initialiser’s arguments is as follows:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formula</strong> (<a class="reference internal" href="../formula.html#pysat.formula.Formula" title="pysat.formula.Formula"><code class="xref py py-class docutils literal notranslate"><span class="pre">Formula</span></code></a> or <a class="reference internal" href="../formula.html#pysat.formula.CNF" title="pysat.formula.CNF"><code class="xref py py-class docutils literal notranslate"><span class="pre">CNF</span></code></a>) – input formula whose prime representation is sought</p></li>
<li><p><strong>negated</strong> (<a class="reference internal" href="../formula.html#pysat.formula.Formula" title="pysat.formula.Formula"><code class="xref py py-class docutils literal notranslate"><span class="pre">Formula</span></code></a> or <a class="reference internal" href="../formula.html#pysat.formula.CNF" title="pysat.formula.CNF"><code class="xref py py-class docutils literal notranslate"><span class="pre">CNF</span></code></a>) – input’s formula negation (if any)</p></li>
<li><p><strong>target</strong> (<em>str</em>) – either <code class="docutils literal notranslate"><span class="pre">'cnf'</span></code> or <code class="docutils literal notranslate"><span class="pre">'dnf'</span></code></p></li>
<li><p><strong>psolver</strong> (<em>str</em>) – SAT oracle name</p></li>
<li><p><strong>padapt</strong> (<em>bool</em>) – detect and adapt intrinsic AtMost1 constraints</p></li>
<li><p><strong>pdcalls</strong> (<em>bool</em>) – apply clause D oracle calls (for unsorted enumeration only)</p></li>
<li><p><strong>pexhaust</strong> (<em>bool</em>) – do core exhaustion</p></li>
<li><p><strong>pminz</strong> (<em>bool</em>) – do heuristic core reduction</p></li>
<li><p><strong>ppuresat</strong> (<em>str</em>) – use pure SAT-based hitting set enumeration</p></li>
<li><p><strong>psearch</strong> (<em>str</em>) – dual prime reduction strategy</p></li>
<li><p><strong>punsorted</strong> (<em>bool</em>) – apply unsorted MUS enumeration</p></li>
<li><p><strong>ptrim</strong> (<em>int</em>) – do core trimming at most this number of times</p></li>
<li><p><strong>osolver</strong> (<em>str</em>) – SAT oracle name</p></li>
<li><p><strong>oadapt</strong> (<em>bool</em>) – detect and adapt intrinsic AtMost1 constraints</p></li>
<li><p><strong>odcalls</strong> (<em>bool</em>) – apply clause D oracle calls (for unsorted enumeration only)</p></li>
<li><p><strong>oexhaust</strong> (<em>bool</em>) – do core exhaustion</p></li>
<li><p><strong>ominz</strong> (<em>bool</em>) – do heuristic core reduction</p></li>
<li><p><strong>onodisj</strong> (<em>bool</em>) – do not enumerate disjoint MCSes with OptUx</p></li>
<li><p><strong>opuresat</strong> (<em>str</em>) – use pure SAT-based hitting set enumeration</p></li>
<li><p><strong>ounsorted</strong> (<em>bool</em>) – apply unsorted MUS enumeration</p></li>
<li><p><strong>otrim</strong> (<em>int</em>) – do core trimming at most this number of times</p></li>
<li><p><strong>weighted</strong> (<em>bool</em>) – get a minimal cover wrt. the total number of literals</p></li>
<li><p><strong>verbose</strong> (<em>int</em>) – verbosity level</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="examples.bica.Bica.compute">
<span class="sig-name descname"><span class="pre">compute</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#examples.bica.Bica.compute" title="Link to this definition">#</a></dt>
<dd><p>Computes a single minimum representation of the input formula as a
list of indices of prime implicants (or implicates) determined to
comprise the representation.</p>
<p>Note that the indices in the returned list start from <code class="docutils literal notranslate"><span class="pre">1</span></code>, i.e.
the user is supposed to subtract <code class="docutils literal notranslate"><span class="pre">1</span></code> for each of them to get the
correct list of primes. Consider the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysat.examples.bica</span> <span class="kn">import</span> <span class="n">Bica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysat.formula</span> <span class="kn">import</span> <span class="n">CNF</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cnf</span> <span class="o">=</span> <span class="n">CNF</span><span class="p">(</span><span class="n">from_clauses</span><span class="o">=</span><span class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Bica</span><span class="p">(</span><span class="n">formula</span><span class="p">)</span> <span class="k">as</span> <span class="n">bica</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">minf</span> <span class="ow">in</span> <span class="n">bica</span><span class="o">.</span><span class="n">enumerate</span><span class="p">():</span>
<span class="gp">... </span>        <span class="n">minf</span> <span class="o">=</span> <span class="n">CNF</span><span class="p">(</span><span class="n">from_clauses</span><span class="o">=</span><span class="p">[</span><span class="n">bica</span><span class="o">.</span><span class="n">primes</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">minf</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">minf</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;all primes implicates: </span><span class="si">{</span><span class="n">bica</span><span class="o">.</span><span class="n">primes</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">CNF(from_string=&#39;p cnf 4 3\n4 0\n-2 3 0\n-1 2 0&#39;)</span>
<span class="go">all prime implicates: [[4], [-2, 3], [-1, 3], [-1, 2]]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="examples.bica.Bica.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#examples.bica.Bica.delete" title="Link to this definition">#</a></dt>
<dd><p>Explicit destructor of both primer and optux. Also, clears the
list of primes computed.</p>
<p>(The former is constructed in Bica’s initialiser while the latter
is created on demand, once the first phase of the algorithm has
been finished, i.e. when all the primes have been enumerated.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="examples.bica.Bica.enumerate">
<span class="sig-name descname"><span class="pre">enumerate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#examples.bica.Bica.enumerate" title="Link to this definition">#</a></dt>
<dd><p>This is generator method iterating through minimum representations
and enumerating them until no more of them exists, or a user
decides to stop the process.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysat.examples.bica</span> <span class="kn">import</span> <span class="n">Bica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysat.formula</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cnf</span> <span class="o">=</span> <span class="n">CNF</span><span class="p">(</span><span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;test.cnf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cnf</span><span class="p">)</span>
<span class="go">CNF(from_string=&#39;c n orig vars 5\np cnf 11 5\n-1 2 0\n1 -2 0\n1 2 -3 4 0\n1 2 3 -4 0\n1 2 3 4 5 0&#39;)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Bica</span><span class="p">(</span><span class="n">cnf</span><span class="p">)</span> <span class="k">as</span> <span class="n">bica</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">minf</span> <span class="ow">in</span> <span class="n">bica</span><span class="o">.</span><span class="n">enumerate</span><span class="p">():</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">minf</span><span class="p">)</span>  <span class="c1"># prime indices start from 1!</span>
<span class="go">[1, 2, 8, 9, 10]</span>
<span class="go">[1, 2, 3, 8, 10]</span>
<span class="go">[1, 2, 3, 6, 10]</span>
<span class="go">[1, 2, 3, 4, 8]</span>
<span class="go">[1, 2, 3, 4, 6]</span>
<span class="go">[1, 2, 4, 7, 8]</span>
<span class="go">[1, 2, 4, 8, 9]</span>
<span class="go">[1, 2, 4, 5, 8]</span>
<span class="go">[1, 2, 4, 6, 7]</span>
<span class="go">[1, 2, 4, 5, 6]</span>
<span class="go">[1, 2, 4, 6, 9]</span>
<span class="go">[1, 2, 6, 7, 10]</span>
<span class="go">[1, 2, 7, 8, 10]</span>
<span class="go">[1, 2, 5, 8, 10]</span>
<span class="go">[1, 2, 5, 6, 10]</span>
<span class="go">[1, 2, 6, 9, 10]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="examples.bica.Bica.oracle_time">
<span class="sig-name descname"><span class="pre">oracle_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#examples.bica.Bica.oracle_time" title="Link to this definition">#</a></dt>
<dd><p>This method computes and returns the total SAT solving time
involved, including the time spent by <a class="reference internal" href="primer.html#examples.primer.Primer" title="examples.primer.Primer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Primer</span></code></a> and
<a class="reference internal" href="optux.html#examples.optux.OptUx" title="examples.optux.OptUx"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptUx</span></code></a>, which implement the first and second phases
of the algorithm, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../solvers.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">SAT solvers’ API (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pysat.solvers</span></code>)</p>
      </div>
    </a>
    <a class="right-next"
       href="fm.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Fu&amp;Malik MaxSAT algorithm (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pysat.examples.fm</span></code>)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#list-of-classes">List of classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-description">Module description</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-details">Module details</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples.bica.Bica"><code class="docutils literal notranslate"><span class="pre">Bica</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples.bica.Bica.compute"><code class="docutils literal notranslate"><span class="pre">Bica.compute()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples.bica.Bica.delete"><code class="docutils literal notranslate"><span class="pre">Bica.delete()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples.bica.Bica.enumerate"><code class="docutils literal notranslate"><span class="pre">Bica.enumerate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples.bica.Bica.oracle_time"><code class="docutils literal notranslate"><span class="pre">Bica.oracle_time()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2018-2024, Alexey Ignatiev, Joao Marques-Silva, Antonio Morgado.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>